@using System.Data
@model DataTable

<h2>Giỏ hàng của bạn</h2>
<table class="table">
    <thead>
        <tr>
            <th>Sản phẩm</th>
            <th>Hình</th>
            <th>Giá</th>
            <th>Số lượng</th>
            <th>Thành tiền</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (DataRow row in Model.Rows)
        {
            <tr>
                <td>@row["Name"]</td>
                <td><img src="~/img/@row["Image"]" style="width:50px;"></td>
                <td>@string.Format("{0:N0}", row["Price"])</td>
                <td>
                    <form asp-action="UpdateQuantity" method="post" class="d-flex">
                        <input type="hidden" name="id" value="@row["Id"]" />
                        <input type="number" name="quantity" value="@row["Quantity"]" min="1" style="width: 60px;" class="form-control me-2" />
                        <button type="submit" class="btn btn-sm btn-secondary">Cập nhật</button>
                    </form>
                </td>
                <td>@string.Format("{0:N0}", row["Total"])</td>
                <td><a href="/Cart/Remove/@row["Id"]" class="text-danger">Xóa</a></td>
            </tr>
        }
    </tbody>
</table>
<div class="text-end">
    <a asp-controller="Cart" asp-action="Checkout" class="btn btn-success">Đặt hàng (Checkout)</a>
</div>